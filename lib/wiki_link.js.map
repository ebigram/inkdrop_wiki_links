{"version":3,"sources":["../src/wiki_link.js"],"names":["createRemarkWikiLink","OriginalAnchor","WikiLink","React","Component","render","link","props","children","attributes","renderError","error","message","onClick","inkdrop","commands","dispatch","document","body","keyword","style","textDecoration","cursor","e","PropTypes","arrayOf","string"],"mappings":";AAAA;;;;;;;AACA;;AACA;;;;;;;;;;AAEA,MAAMA,oBAAoB,GAAIC,cAAD,IAAoB;AAAA;;AAC7C,0BAAO,MAAMC,QAAN,SAAuBC,KAAK,CAACC,SAA7B,CAAuC;AAK1CC,IAAAA,MAAM,GAAG;AACL,YAAMC,IAAI,GAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAb;;AAEA,UAAIF,IAAJ,EAAU;AACN,YAAI;AACA,gBAAMG,UAAU,GAAG;AACf;AACAC,YAAAA,WAAW,EAAGC,KAAD,IAAW;AACpB,kCACI;AAAM,gBAAA,SAAS,EAAC;AAAhB,iBACKA,KAAK,CAACC,OADX,CADJ;AAKH,aARc;AASfC,YAAAA,OAAO,EAAE,MACLC,OAAO,CAACC,QAAR,CAAiBC,QAAjB,CACIC,QAAQ,CAACC,IADb,EAEI,mBAFJ,EAGI;AACIC,cAAAA,OAAO,EAAG,SAAQb,IAAK;AAD3B,aAHJ,CAVW;AAiBfc,YAAAA,KAAK,EAAE;AACHC,cAAAA,cAAc,EAAE,WADb;AAEHC,cAAAA,MAAM,EAAE;AAFL;AAjBQ,WAAnB;;AAsBA,cAAIrB,cAAJ,EAAoB;AAChB,gCACI,oBAAC,cAAD,EAAoBQ,UAApB,EACKH,IADL,CADJ;AAKH,WAND,MAMO;AACH,gCAAO,yBAAOG,UAAP,EAAoBH,IAApB,CAAP;AACH;AACJ,SAhCD,CAgCE,OAAOiB,CAAP,EAAU;AACR,8BAAO,kCAAOA,CAAC,CAACX,OAAT,CAAP;AACH;AACJ,OApCD,MAoCO;AACH,4BAAO,sDAAP;AACH;AACJ;;AA/CyC,GAA9C,uCACuB;AACfJ,IAAAA,QAAQ,EAAEgB,mBAAUC,OAAV,CAAkBD,mBAAUE,MAA5B;AADK,GADvB;AAiDH,CAlDD;;eAoDe1B,oB","sourcesContent":["\"use babel\";\nimport * as React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst createRemarkWikiLink = (OriginalAnchor) => {\n    return class WikiLink extends React.Component {\n        static propTypes = {\n            children: PropTypes.arrayOf(PropTypes.string),\n        };\n\n        render() {\n            const link = this.props.children[0];\n\n            if (link) {\n                try {\n                    const attributes = {\n                        // href: `inkdrop:://note/${link}`,\n                        renderError: (error) => {\n                            return (\n                                <span className=\"ui error message mde-error-message\">\n                                    {error.message}\n                                </span>\n                            );\n                        },\n                        onClick: () =>\n                            inkdrop.commands.dispatch(\n                                document.body,\n                                \"core:search-notes\",\n                                {\n                                    keyword: `title:${link}`,\n                                }\n                            ),\n                        style: {\n                            textDecoration: \"underline\",\n                            cursor: \"pointer\",\n                        },\n                    };\n                    if (OriginalAnchor) {\n                        return (\n                            <OriginalAnchor {...attributes}>\n                                {link}\n                            </OriginalAnchor>\n                        );\n                    } else {\n                        return <a {...attributes}>{link}</a>;\n                    }\n                } catch (e) {\n                    return <span>{e.message}</span>;\n                }\n            } else {\n                return <span>Invalid Wiki Link</span>;\n            }\n        }\n    };\n};\n\nexport default createRemarkWikiLink;\n"],"file":"wiki_link.js"}