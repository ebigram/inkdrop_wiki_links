{"version":3,"sources":["../src/index.js"],"names":["module","exports","activate","markdownRenderer","remarkPlugins","push","wikiLinkPlugin","deactivate","i","indexOf","splice"],"mappings":";;AAAA;;AAGA;;;;AAFA;AACA;AAGA;AAEAA,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,QAAQ,GAAG;AACP;AACA;AACA,QAAIC,yBAAJ,EAAsB;AAClB;AACAA,gCAAiBC,aAAjB,CAA+BC,IAA/B,CAAoCC,yBAApC,EAFkB,CAGlB;;AACH;AACJ,GATY;;AAWbC,EAAAA,UAAU,GAAG;AACT,QAAIJ,yBAAJ,EAAsB;AAClB;AACA,YAAM;AAAEC,QAAAA;AAAF,UAAoBD,yBAA1B,CAFkB,CAGlB;;AACA,YAAMK,CAAC,GAAGJ,aAAa,CAACK,OAAd,CAAsBH,yBAAtB,CAAV;;AACA,UAAIE,CAAC,IAAI,CAAT,EAAY;AACRJ,QAAAA,aAAa,CAACM,MAAd,CAAqBF,CAArB,EAAwB,CAAxB;AACH,OAPiB,CAQlB;AACA;AACA;;AACH;AACJ;;AAxBY,CAAjB","sourcesContent":["import { markdownRenderer } from \"inkdrop\";\n// import wiki_link from \"./remark_wiki\";\n// import WikiLink from \"./wiki_link\";\nimport wikiLinkPlugin from \"./wiki_link_plugin\";\n\n// wikiLinkPlugin.hrefTemplate = (permalink) => `command://core:find/${permalink}`;\n\nmodule.exports = {\n    activate() {\n        // debugger;\n        // console.log(wikiLinkPlugin);\n        if (markdownRenderer) {\n            // markdownRenderer.remarkPlugins.push(wiki_link);\n            markdownRenderer.remarkPlugins.push(wikiLinkPlugin);\n            // markdownRenderer.remarkReactComponents.wiki_link = WikiLink;\n        }\n    },\n\n    deactivate() {\n        if (markdownRenderer) {\n            // const { remarkPlugins, remarkReactComponents } = markdownRenderer;\n            const { remarkPlugins } = markdownRenderer;\n            // const i = remarkPlugins.indexOf(wiki_link);\n            const i = remarkPlugins.indexOf(wikiLinkPlugin);\n            if (i >= 0) {\n                remarkPlugins.splice(i, 1);\n            }\n            // if (remarkReactComponents.wiki_link === WikiLink) {\n            //     delete remarkReactComponents.wiki_link;\n            // }\n        }\n    },\n};\n"],"file":"index.js"}