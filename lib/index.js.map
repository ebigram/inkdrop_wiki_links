{"version":3,"sources":["../src/index.js"],"names":["module","exports","activate","markdownRenderer","remarkPlugins","push","wiki_link","remarkReactComponents","WikiLink","deactivate","i","indexOf","splice"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,QAAQ,GAAG;AACP,QAAIC,yBAAJ,EAAsB;AAClBA,gCAAiBC,aAAjB,CAA+BC,IAA/B,CAAoCC,oBAApC;;AACAH,gCAAiBI,qBAAjB,CAAuCD,SAAvC,GAAmDE,kBAAnD;AACH;AACJ,GANY;;AAQbC,EAAAA,UAAU,GAAG;AACT,QAAIN,yBAAJ,EAAsB;AAClB,YAAM;AAAEC,QAAAA,aAAF;AAAiBG,QAAAA;AAAjB,UAA2CJ,yBAAjD;AACA,YAAMO,CAAC,GAAGN,aAAa,CAACO,OAAd,CAAsBL,oBAAtB,CAAV;;AACA,UAAII,CAAC,IAAI,CAAT,EAAY;AACRN,QAAAA,aAAa,CAACQ,MAAd,CAAqBF,CAArB,EAAwB,CAAxB;AACH;;AACD,UAAIH,qBAAqB,CAACD,SAAtB,KAAoCE,kBAAxC,EAAkD;AAC9C,eAAOD,qBAAqB,CAACD,SAA7B;AACH;AACJ;AACJ;;AAnBY,CAAjB","sourcesContent":["import { markdownRenderer } from \"inkdrop\";\nimport wiki_link from \"./remark_wiki\";\nimport WikiLink from \"./wiki_link\";\n\nmodule.exports = {\n    activate() {\n        if (markdownRenderer) {\n            markdownRenderer.remarkPlugins.push(wiki_link);\n            markdownRenderer.remarkReactComponents.wiki_link = WikiLink;\n        }\n    },\n\n    deactivate() {\n        if (markdownRenderer) {\n            const { remarkPlugins, remarkReactComponents } = markdownRenderer;\n            const i = remarkPlugins.indexOf(wiki_link);\n            if (i >= 0) {\n                remarkPlugins.splice(i, 1);\n            }\n            if (remarkReactComponents.wiki_link === WikiLink) {\n                delete remarkReactComponents.wiki_link;\n            }\n        }\n    },\n};\n"],"file":"index.js"}