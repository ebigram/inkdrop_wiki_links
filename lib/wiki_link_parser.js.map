{"version":3,"sources":["../src/wiki_link_parser.js"],"names":["locator","value","fromIndex","indexOf","RE_WIKI","tokenizer","eat","silent","match","exec","length","linkText","trim","result","type","notInLink"],"mappings":";;;;;;;AAAA,SAASA,OAAT,CAAiBC,KAAjB,EAAwBC,SAAxB,EAAmC;AAC/B,SAAOD,KAAK,CAACE,OAAN,CAAc,GAAd,EAAmBD,SAAnB,CAAP;AACH,C,CAED;AACA;;;AACA,MAAME,OAAO,GAAG,mBAAhB,C,CACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwBL,KAAxB,EAA+BM,MAA/B,EAAuC;AACnC,QAAMC,KAAK,GAAGJ,OAAO,CAACK,IAAR,CAAaR,KAAb,CAAd;;AACA,MAAIO,KAAJ,EAAW;AACP,QAAID,MAAM,IAAIC,KAAK,CAACE,MAAN,GAAe,CAA7B,EAAgC;AAC5B,aAAO,IAAP;AACH,KAHM,CAIP;;;AAEA,UAAMC,QAAQ,GAAGH,KAAK,CAAC,CAAD,CAAL,CAASI,IAAT,EAAjB,CANO,CAM2B;;AAElC,UAAMC,MAAM,GAAGP,GAAG,CAACE,KAAK,CAAC,CAAD,CAAN,CAAH,CAAc;AACzBM,MAAAA,IAAI,EAAE,WADmB;AAEzB;AACAb,MAAAA,KAAK,EAAEU,QAHkB,CAIzB;;AAJyB,KAAd,CAAf;AAMA,WAAOE,MAAP;AACH;AACJ;;AAEDR,SAAS,CAACL,OAAV,GAAoBA,OAApB;AACAK,SAAS,CAACU,SAAV,GAAsB,KAAtB;eAEeV,S","sourcesContent":["function locator(value, fromIndex) {\n    return value.indexOf(\"[\", fromIndex);\n}\n\n// https://regex101.com/r/Tsi5wM/1\n// Works:\nconst RE_WIKI = /\\[([^\\]]+)\\]{2}/gm;\n// https://regex101.com/r/Tsi5wM/2\n// Breaks:\n// This regex is too global, upstream issue:\n// https://github.com/remarkjs/remark/issues/585\n// const RE_WIKI = /\\[([^\\[\\]]+)\\]{2}/gm;\n\nfunction tokenizer(eat, value, silent) {\n    const match = RE_WIKI.exec(value);\n    if (match) {\n        if (silent || match.length < 1) {\n            return true;\n        }\n        // debugger;\n\n        const linkText = match[1].trim(); //.replace(\"[\", \"\");\n\n        const result = eat(match[0])({\n            type: \"wiki_link\",\n            // value: `[${linkText}]]`,\n            value: linkText,\n            // hChildren: [{ type: \"text\", value: linkText }],\n        });\n        return result;\n    }\n}\n\ntokenizer.locator = locator;\ntokenizer.notInLink = false;\n\nexport default tokenizer;\n"],"file":"wiki_link_parser.js"}